<section>
  <div class="row wrapper border-bottom white-bg page-heading">
    <div class="col-md-8">
      <h2>
        Emails
      </h2>
      <ol class="breadcrumb">
        <li class="active">
          <a data-ui-sref="home">Accueil</a>
        </li>
        <li class="active">
          Admin
        </li>
        <li class="active">
          <strong>Emails</strong>
        </li>
      </ol>
    </div>
    <div class="col-md-4 p-w-lg m-t-lg">
      <input class="form-control" type="text" ng-model="vm.search" placeholder="Rechercher" ng-change="vm.figureOutItemsToDisplay()" />
    </div>
  </div>
    <div class="wrapper wrapper-content animated fadeInRight">
      <div class="row">
        <div class="col-lg-12">
          <div class="ibox float-e-margins m-t-lg">
            <div class="ibox-title li-emails-title">
              <h5>Liste des emails</h5>
              <!--<div class="ibox-tools">
                <a class="btn btn-primary btn-rounded" data-ui-sref="admin.emails.create">
                  <i class="glyphicon glyphicon-plus"></i> Ajouter un mail
                </a>
              </div>-->
            </div>
            <div class="ibox-content project-list">
              <table class="footable table table-stripped toggle-arrow-tiny emails-table" data-page-size="8">
                <thead>
                  <tr>
                    <th class="text-center" data-toggle="true">Destinataire</th>
                    <th class="text-center" data-toggle="true">Sujet</th>
                    <th class="text-center">Date</th>
                    <th class="text-center">Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr ng-repeat="email in vm.pagedItems">
                    <td class="text-center" ng-bind="email.user.displayName"></td>
                    <td class="text-center" ng-bind="email.subject"></td>
                    <td class="text-center">{{ email.created | date:"dd/MM/yyyy" }}</td>
                    <td class="text-center">
                      <a class="btn btn-warning btn-rounded btn-outline btn-sm" ui-sref="admin.emails.view({emailId: email._id})">
                        <i class="glyphicon fa fa-eye"></i>Détails
                      </a>
                      <a ng-show="email._id" class="btn btn-danger btn-rounded btn-outline btn-sm" ng-click="vm.remove()">
                        <i class="glyphicon glyphicon-trash"></i>Supprimer
                      </a>
                    </td>
                  </tr>
                </tbody>
              </table>
              <uib-pagination class="pull-right" rotate="true" force-ellipses="true" boundary-links="true" max-size="8" items-per-page="vm.itemsPerPage" total-items="vm.filterLength" ng-model="vm.currentPage" ng-change="vm.pageChanged()"></uib-pagination>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
